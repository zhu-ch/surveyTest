<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="../utils/templateJS.js"></script>
    <link rel="stylesheet" href="../css/survey%23surveyManagement.css">

</head>
<body>
<div id="app" v-cloak style="background: white;height: 100%;overflow: hidden;" v-loading="fullScreenLoading">
    <!--顶栏-->
    <div style="padding: 15px 20px 0 15px;">
        <span style="float: left;margin-right: 10px;">
            <el-select v-model="onShowTable.conditionType" size="small"
                       filterable placeholder="选择查找方式">
                <el-option v-for="(item, index) in onShowTable.conditionTypes" :key="index" :label="item.value"
                           :value="item"></el-option>
            </el-select>
            <el-input size="small" placeholder="请输入对应条件查找对应问卷" suffix-icon="el-icon-search"
                      style="width: 250px;margin-right: 10px;" v-model="onShowTable.condition"
                      @keyup.enter.native="onShowTable.params.pageIndex=1;refreshTotalTable">
            </el-input>
            <el-button size="small" type="primary" style="position:relative;"
                       @click="onShowTable.params.pageIndex=1;refreshTotalTable">
                <span>搜索</span>
            </el-button>
        </span>
        <span class="button-group" style="float: right">
            <el-button size="small" type="success">
                <span>创建问卷</span>
<!--                todo-->
            </el-button>
        </span>
    </div>


    <div>
        <component :is="myComponent" v-for="item in onShowTable.entities" :survery="item"
                   v-bind:key="item.id">
        </component>
    </div>




    <!--分页-->
    <el-pagination style="text-align: center;margin: 8px auto;"
                   @current-change="onPageIndexChange"
                   :current-page="onShowTable.params.pageIndex"
                   :page-size="onShowTable.params.pageSize"
                   :total="onShowTable.params.total"
                   layout="total, prev, pager, next, jumper">
    </el-pagination>


</div>
</body>
<script src="../js/survey%23surveyManagement.js"></script>
</html>